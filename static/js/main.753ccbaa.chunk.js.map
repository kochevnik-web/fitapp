{"version":3,"sources":["context.js","base.js","Components/Loader/Loader.js","Components/WiveEffect/WiveEffect.js","Components/ListItem/ListItem.js","Components/Pages/Groups/Groups.js","Components/Pages/SingleGroup/SingleGroup.js","Components/NavBar/NavBar.js","Components/App/App.js","index.js"],"names":["Context","React","createContext","ContextProvider","children","getSize","window","innerWidth","useState","size","setSize","user","setUser","useEffect","addEventListener","Provider","value","db","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","GoogleAuthProvider","Loader","className","WiveClick","cords","status","setStatus","setTimeout","style","WiveEffect","animate","setAnimate","top","setTop","left","setLeft","refElem","useRef","scrollTop","pageYOffset","document","documentElement","current","getBoundingClientRect","onClick","e","pageX","pageY","ref","length","map","el","indx","ListItem","id","data","name","Groups","lastId","setLastId","posts","setPosts","useCollection","collection","orderBy","startAfter","limit","channels","loading","error","docs","concat","console","log","doc","to","createAt","SingleGroup","useParams","NavBar","screen","useContext","text","prompt","add","FieldValue","serverTimestamp","version","xmlns","x","y","viewBox","d","App","fontSize","exact","path","component","Group","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.753ccbaa.chunk.js","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\n\r\nconst Context = React.createContext();\r\n\r\nexport default function ContextProvider({ children }) {\r\n\r\n    function getSize(){\r\n        return window.innerWidth <= 992 ? window.innerWidth / 32 : 992 / 32;\r\n    }\r\n    const [size, setSize] = useState(getSize());\r\n    const [user, setUser] = useState(getSize());\r\n\r\n    useEffect(()=>{\r\n        setSize(getSize());\r\n    },[]);\r\n\r\n\r\n    window.addEventListener('resize', () =>{\r\n        setSize(getSize());\r\n    });\r\n\r\n    return (\r\n        <Context.Provider value={{ size, user, setUser }}>\r\n            {children}\r\n        </Context.Provider>\r\n    );\r\n}\r\n\r\nexport { Context, ContextProvider };","import firebase from 'firebase';\r\n\r\nconst firebaseApp = firebase.initializeApp({\r\n    apiKey: process.env.REACT_APP_API_KEY,\r\n    authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_DB_URL,\r\n    projectId: process.env.REACT_APP_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_MS_ID,\r\n    appId: process.env.REACT_APP_APP_ID,\r\n    measurementId: process.env.REACT_APP_MEASUREMENT_ID\r\n});\r\n\r\nconst db = firebaseApp.firestore();\r\nconst auth = firebase.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport {db, auth, provider};","import React from 'react';\r\n\r\nimport './Loader.scss';\r\n\r\nexport default function Loader() {\r\n    return (\r\n        <div className=\"loader\">\r\n            <span>Loading ...</span>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useEffect, useState, useRef} from 'react';\r\n\r\nimport './WiveEffect.scss';\r\n\r\nfunction WiveClick({cords}) {\r\n\r\n    const [status, setStatus] = useState(true);\r\n\r\n    useEffect(() => {\r\n        if(status) {\r\n            setTimeout(() => {\r\n                setStatus(false);\r\n            }, 1800);\r\n        }\r\n    // eslint-disable-next-line\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {status &&  <div style={cords} className=\"wive-effect-child\"></div>}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default function WiveEffect({children}) {\r\n\r\n    const [animate, setAnimate] = useState([]);\r\n    const [top, setTop] = useState(0);\r\n    const [left, setLeft] = useState(0);\r\n\r\n    const refElem = useRef(null);\r\n\r\n    useEffect(() =>{\r\n        var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n        setTop(refElem.current?.getBoundingClientRect().top + scrollTop);\r\n        setLeft(refElem.current?.getBoundingClientRect().left);\r\n    }, []);\r\n\r\n    return (\r\n        <div\r\n            className=\"wive-effect\"\r\n            onClick={(e) => setAnimate([...animate, {left: e.pageX - left, top: e.pageY - top}])}\r\n            ref={refElem}\r\n        >\r\n            {children}\r\n            {animate.length ?\r\n                animate.map((el, indx) => {\r\n                    return(<WiveClick key={indx} cords={el}/>);\r\n                })\r\n                : null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\n\r\nimport WiveEffect from '../WiveEffect/WiveEffect';\r\n\r\nimport './ListItem.scss';\r\n\r\nexport default function ListItem({id, data}) {\r\n\r\n    return (\r\n        <WiveEffect>\r\n            <div className=\"list-item\">\r\n                <span>{data.name}</span>\r\n                {/* <span>{new Date(data.createAt?.toDate()).toString()}</span> */}\r\n            </div>\r\n        </WiveEffect>\r\n    )\r\n}\r\n","import React, {useEffect, useState, useRef} from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport { useCollection } from 'react-firebase-hooks/firestore';\r\nimport {db} from '../../../base';\r\n\r\nimport './Groups.scss';\r\n\r\nimport Loader from '../../Loader/Loader';\r\nimport ListItem from '../../ListItem/ListItem';\r\n\r\nexport default function Groups() {\r\n\r\n    const refElem = useRef();\r\n\r\n    const limit = 15;\r\n\r\n    const [lastId, setLastId] = useState('');\r\n    const [posts, setPosts] = useState([]);\r\n\r\n    const [channels, loading, error] = useCollection(db.collection('groups').orderBy('createAt', 'desc').startAfter(lastId).limit(limit));\r\n\r\n    useEffect(() => {\r\n        if(channels?.docs.length){\r\n            if(posts.length) {\r\n                if(posts[posts.length -1].id === channels.docs[channels?.docs.length - 1].id || posts[0].id === channels.docs[1].id){\r\n                    setPosts(channels?.docs);\r\n                } else {\r\n                    setPosts(posts.concat(channels?.docs));\r\n                }\r\n            } else {\r\n                setPosts(channels?.docs);\r\n            }\r\n        }\r\n    // eslint-disable-next-line\r\n    }, [channels]);\r\n\r\n    console.log(error);\r\n\r\n    return (\r\n        <div className=\"groups\">\r\n            {loading && !lastId ? <Loader /> : (\r\n                <>\r\n                    <h3><span>Группы:</span></h3>\r\n                    <div className=\"groups-list\" ref={refElem}>\r\n                        {\r\n                            posts?.map(doc =>{\r\n                                return (\r\n                                    <Link key={doc.id} to={`/group/${doc.id}`}>\r\n                                        <ListItem id={doc.id} data={doc.data()} />\r\n                                    </Link>\r\n                                );\r\n                            })\r\n                        }\r\n                    </div>\r\n                    {(!channels?.docs.length || channels?.docs.length < limit || loading) ? null : (\r\n                        <div className=\"groups-btn-more\" onClick={() => setLastId(channels?.docs[channels?.docs.length - 1].data().createAt)}>\r\n                            <span>Загрузить еще</span>\r\n                        </div>\r\n                    )}\r\n                </>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {useParams} from 'react-router-dom';\r\n\r\nexport default function SingleGroup() {\r\n\r\n    const {id} = useParams();\r\n\r\n    return (\r\n        <div>\r\n            SingleGroup {id}\r\n        </div>\r\n    )\r\n}\r\n","import React, {useContext} from 'react';\r\nimport firebase from 'firebase';\r\n\r\nimport {db} from '../../base';\r\nimport {Context} from '../../context';\r\n\r\nimport './NavBar.scss';\r\n\r\nexport default function NavBar() {\r\n\r\n    const {screen} = useContext(Context);\r\n\r\n    const addNewElement = () => {\r\n        let text = prompt(\"Укажите имя группы:\");\r\n        if(text){\r\n            db.collection(screen).add({\r\n                name: text,\r\n                createAt: firebase.firestore.FieldValue.serverTimestamp()\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"adding\" onClick={addNewElement}>\r\n                <svg\r\n                    version=\"1.1\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    x=\"0px\"\r\n                    y=\"0px\"\r\n                    viewBox=\"0 0 512 512\"\r\n                >\r\n                    <g>\r\n                        <path d=\"M156,256c0,11.046,8.954,20,20,20h60v60c0,11.046,8.954,20,20,20s20-8.954,20-20v-60h60c11.046,0,20-8.954,20-20\r\n                                c0-11.046-8.954-20-20-20h-60v-60c0-11.046-8.954-20-20-20s-20,8.954-20,20v60h-60C164.954,236,156,244.954,156,256z\"/>\r\n                        <path d=\"M160.406,61.8l25.869-10.716c10.204-4.228,15.051-15.927,10.823-26.132c-4.228-10.205-15.926-15.054-26.132-10.823\r\n                                l-25.869,10.716c-10.204,4.228-15.051,15.927-10.823,26.132C138.488,61.148,150.168,66.038,160.406,61.8z\"/>\r\n                        <path d=\"M256,0c-11.046,0-20,8.954-20,20s8.954,20,20,20c119.378,0,216,96.608,216,216c0,119.378-96.608,216-216,216\r\n                                c-119.378,0-216-96.608-216-216c0-11.046-8.954-20-20-20s-20,8.954-20,20c0,141.483,114.497,256,256,256\r\n                                c141.483,0,256-114.497,256-256C512,114.517,397.503,0,256,0z\"/>\r\n                        <path d=\"M93.366,113.165l19.799-19.799c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L65.081,84.88\r\n                                c-7.811,7.811-7.811,20.475,0,28.285C72.89,120.974,85.555,120.976,93.366,113.165z\"/>\r\n                        <path d=\"M24.952,197.099c10.227,4.236,21.914-0.642,26.132-10.823l10.716-25.87c4.228-10.205-0.619-21.904-10.823-26.132\r\n                                c-10.207-4.227-21.904,0.619-26.132,10.823l-10.716,25.869C9.901,181.172,14.748,192.871,24.952,197.099z\"/>\r\n                    </g>\r\n                </svg>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import './App.scss';\nimport {useContext} from 'react';\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\n\nimport {Context} from '../../context';\n\nimport Groups from '../Pages/Groups/Groups';\nimport Group from '../Pages/SingleGroup/SingleGroup';\nimport NavBar from '../NavBar/NavBar';\n\nfunction App() {\n\n    console.log(process.env.NODE_ENV);\n\n    const {size} = useContext(Context);\n\n    return (\n        <div className=\"App\" style={{fontSize: size}}>\n            <NavBar />\n            <Router>\n                <Switch>\n                    <Route exact path=\"/\" component={Groups} />\n                    <Route path=\"/group/:id\" component={Group} />\n                    <Route path=\"*\" component={Groups} />\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './Components/App/App';\n\nimport ContextProvider from './context';\n\nReactDOM.render(\n    <ContextProvider>\n        <App />\n    </ContextProvider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}