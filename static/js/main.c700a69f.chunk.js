(this.webpackJsonpfit=this.webpackJsonpfit||[]).push([[0],{100:function(e,t,c){},101:function(e,t,c){},102:function(e,t,c){},107:function(e,t,c){},109:function(e,t,c){},167:function(e,t,c){"use strict";c.r(t);var n=c(4),i=c.n(n),s=c(41),o=c.n(s),a=(c(94),c(95),c(27)),d=c(15),l=c(13),r=c(5),u=i.a.createContext();function j(e){var t=e.children;function c(){return window.innerWidth<=992?window.innerWidth/32:31}var i=Object(n.useState)(c()),s=Object(l.a)(i,2),o=s[0],a=s[1],d=Object(n.useState)(c()),j=Object(l.a)(d,2),b=j[0],O=j[1],v=Object(n.useState)(!1),p=Object(l.a)(v,2),h=p[0],f=p[1];return Object(n.useEffect)((function(){a(c())}),[]),window.addEventListener("resize",(function(){a(c())})),Object(r.jsx)(u.Provider,{value:{size:o,user:b,setUser:O,showAdd:h,setShowAdd:f},children:t})}var b=c(45),O=c(35),v=O.a.initializeApp({apiKey:"AIzaSyC2JC9Q0JWqIf40j4B7kBY47wjVPP90fUs",authDomain:"vue-crm-d6c4e.firebaseapp.com",databaseURL:"https://vue-crm-d6c4e-default-rtdb.firebaseio.com",projectId:"vue-crm-d6c4e",storageBucket:"vue-crm-d6c4e.appspot.com",messagingSenderId:"590464555013",appId:"1:590464555013:web:e29f1a9b0c72e235b7246c",measurementId:"G-JSLF4TE0TW"}).firestore();O.a.auth(),new O.a.auth.GoogleAuthProvider,c(73),c(100);function p(){return Object(r.jsx)("div",{className:"loader",children:Object(r.jsx)("span",{children:"Loading ..."})})}var h=c(89);c(101);function f(e){var t=e.cords,c=Object(n.useState)(!0),i=Object(l.a)(c,2),s=i[0],o=i[1];return Object(n.useEffect)((function(){s&&setTimeout((function(){o(!1)}),1800)}),[]),Object(r.jsx)(r.Fragment,{children:s&&Object(r.jsx)("div",{style:t,className:"wive-effect-child"})})}function m(e){var t=e.children,c=Object(n.useState)([]),i=Object(l.a)(c,2),s=i[0],o=i[1],a=Object(n.useState)(0),d=Object(l.a)(a,2),u=d[0],j=d[1],b=Object(n.useState)(0),O=Object(l.a)(b,2),v=O[0],p=O[1],m=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e,t,c=window.pageYOffset||document.documentElement.scrollTop;j((null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect().top)+c),p(null===(t=m.current)||void 0===t?void 0:t.getBoundingClientRect().left)}),[]),Object(r.jsxs)("div",{className:"wive-effect",onClick:function(e){return o([].concat(Object(h.a)(s),[{left:e.pageX-v,top:e.pageY-u}]))},ref:m,children:[t,s.length?s.map((function(e,t){return Object(r.jsx)(f,{cords:e},t)})):null]})}c(102);function x(e){e.id;var t=e.data;return Object(r.jsx)(m,{children:Object(r.jsx)("div",{className:"list-item",children:Object(r.jsx)("span",{children:t.name})})})}function g(){var e=Object(n.useRef)(),t=Object(n.useState)(""),c=Object(l.a)(t,2),i=c[0],s=c[1],o=Object(n.useState)([]),d=Object(l.a)(o,2),u=d[0],j=d[1],O=Object(b.a)(v.collection("groups").orderBy("createAt","desc").startAfter(i).limit(15)),h=Object(l.a)(O,3),f=h[0],m=h[1],g=h[2];return Object(n.useEffect)((function(){(null===f||void 0===f?void 0:f.docs.length)&&(u.length?u[u.length-1].id===f.docs[(null===f||void 0===f?void 0:f.docs.length)-1].id||u[0].id===f.docs[1].id?j(null===f||void 0===f?void 0:f.docs):j(u.concat(null===f||void 0===f?void 0:f.docs)):j(null===f||void 0===f?void 0:f.docs))}),[f]),console.log(g),Object(r.jsx)("div",{className:"groups",children:m&&!i?Object(r.jsx)(p,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:Object(r.jsx)("span",{children:"\u0413\u0440\u0443\u043f\u043f\u044b:"})}),Object(r.jsx)("div",{className:"groups-list",ref:e,children:null===u||void 0===u?void 0:u.map((function(e){return Object(r.jsx)(a.b,{to:"/group/".concat(e.id),children:Object(r.jsx)(x,{id:e.id,data:e.data()})},e.id)}))}),!(null===f||void 0===f?void 0:f.docs.length)||(null===f||void 0===f?void 0:f.docs.length)<15||m?null:Object(r.jsx)("div",{className:"button groups-btn-more",type:"button",onClick:function(){return s(null===f||void 0===f?void 0:f.docs[(null===f||void 0===f?void 0:f.docs.length)-1].data().createAt)},children:Object(r.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"})})]})})}function w(){var e=Object(n.useRef)(),t=Object(d.g)().id,c=Object(n.useState)(""),i=Object(l.a)(c,2),s=i[0],o=i[1],u=Object(n.useState)([]),j=Object(l.a)(u,2),O=j[0],h=j[1],f=Object(b.b)(v.collection("groups").doc(t)),m=Object(l.a)(f,1)[0],g=Object(b.a)(v.collection("groups").doc(t).collection("exercise").orderBy("createAt","desc").startAfter(s).limit(15)),w=Object(l.a)(g,3),N=w[0],C=w[1],S=w[2];return Object(n.useEffect)((function(){console.log(null===N||void 0===N?void 0:N.docs),(null===N||void 0===N?void 0:N.docs.length)&&(O.length?O[O.length-1].id===N.docs[(null===N||void 0===N?void 0:N.docs.length)-1].id||O[0].id===N.docs[1].id?h(null===N||void 0===N?void 0:N.docs):h(O.concat(null===N||void 0===N?void 0:N.docs)):h(null===N||void 0===N?void 0:N.docs))}),[N]),console.log(S),Object(r.jsx)("div",{className:"groups",children:C&&!s?Object(r.jsx)(p,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h3",{children:Object(r.jsx)("span",{children:null===m||void 0===m?void 0:m.data().name})}),Object(r.jsx)("div",{className:"groups-list",ref:e,children:null===O||void 0===O?void 0:O.map((function(e){return Object(r.jsx)(a.b,{to:"/group/".concat(e.id),children:Object(r.jsx)(x,{id:e.id,data:e.data()})},e.id)}))}),!(null===N||void 0===N?void 0:N.docs.length)||(null===N||void 0===N?void 0:N.docs.length)<15||C?null:Object(r.jsx)("div",{className:"groups-btn-more",onClick:function(){return o(null===N||void 0===N?void 0:N.docs[(null===N||void 0===N?void 0:N.docs.length)-1].data().createAt)},children:Object(r.jsx)("span",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0435"})})]})})}c(107);function N(){var e=Object(n.useContext)(u),t=e.showAdd,c=e.setShowAdd;return Object(r.jsx)("div",{className:"navbar",children:Object(r.jsx)("div",{className:"adding",onClick:function(){return c(!0)},disabled:t,children:Object(r.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:Object(r.jsxs)("g",{children:[Object(r.jsx)("path",{d:"M156,256c0,11.046,8.954,20,20,20h60v60c0,11.046,8.954,20,20,20s20-8.954,20-20v-60h60c11.046,0,20-8.954,20-20\r c0-11.046-8.954-20-20-20h-60v-60c0-11.046-8.954-20-20-20s-20,8.954-20,20v60h-60C164.954,236,156,244.954,156,256z"}),Object(r.jsx)("path",{d:"M160.406,61.8l25.869-10.716c10.204-4.228,15.051-15.927,10.823-26.132c-4.228-10.205-15.926-15.054-26.132-10.823\r l-25.869,10.716c-10.204,4.228-15.051,15.927-10.823,26.132C138.488,61.148,150.168,66.038,160.406,61.8z"}),Object(r.jsx)("path",{d:"M256,0c-11.046,0-20,8.954-20,20s8.954,20,20,20c119.378,0,216,96.608,216,216c0,119.378-96.608,216-216,216\r c-119.378,0-216-96.608-216-216c0-11.046-8.954-20-20-20s-20,8.954-20,20c0,141.483,114.497,256,256,256\r c141.483,0,256-114.497,256-256C512,114.517,397.503,0,256,0z"}),Object(r.jsx)("path",{d:"M93.366,113.165l19.799-19.799c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L65.081,84.88\r c-7.811,7.811-7.811,20.475,0,28.285C72.89,120.974,85.555,120.976,93.366,113.165z"}),Object(r.jsx)("path",{d:"M24.952,197.099c10.227,4.236,21.914-0.642,26.132-10.823l10.716-25.87c4.228-10.205-0.619-21.904-10.823-26.132\r c-10.207-4.227-21.904,0.619-26.132,10.823l-10.716,25.869C9.901,181.172,14.748,192.871,24.952,197.099z"})]})})})})}var C=c(71),S=c(68),A=c.n(S),y=c(88);c(108),c(109);function z(){var e=Object(n.useContext)(u).setShowAdd,t=Object(n.useState)(!1),c=Object(l.a)(t,2),i=c[0],s=c[1],o=Object(n.useState)(""),a=Object(l.a)(o,2),j=a[0],b=a[1],p=Object(n.useState)(new Date),h=Object(l.a)(p,2),f=h[0],m=h[1],x=Object(d.f)().location,g="",w="";x.pathname.includes("/fitapp")?(g="\u0433\u0440\u0443\u043f\u043f\u044b",w="/fitapp"):x.pathname.includes("/group/")&&(g="\u0443\u043f\u0440\u0430\u0436\u043d\u0435\u043d\u0438\u044f",w="/group/:id");var N=Object(d.h)(w).params,S=Object(n.useRef)(null);return Object(n.useEffect)((function(){C.a.to(S,{duration:.5,scaleX:1,y:0,ease:"power3.inOut"})}),[]),Object(n.useEffect)((function(){if(i){C.a.to(S,{duration:.5,scaleX:1.2,y:"100%",ease:"power3.inOut"});var t=setTimeout((function(){e(!1)}),800);return function(){clearTimeout(t)}}}),[i]),Object(r.jsxs)("div",{className:"modal",ref:function(e){return S=e},children:[Object(r.jsxs)("div",{className:"input-wrapp",children:[Object(r.jsx)(A.a,{selected:f,onChange:function(e){return m(e)},popperPlacement:"bottom-center",locale:"ru"}),Object(r.jsx)("div",{className:"input-line"})]}),Object(r.jsxs)("div",{className:"input-wrapp",children:[Object(r.jsx)("input",{name:"addedName",type:"text",value:j,className:"added-name",placeholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 ".concat(g),onChange:function(e){return b(e.target.value)}}),Object(r.jsx)("div",{className:"input-line"})]}),Object(r.jsxs)("div",{className:"buttons",children:[Object(r.jsx)("div",{className:"button",onClick:function(){return s(!0)},children:Object(r.jsx)("span",{children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(r.jsx)("div",{className:"button",onClick:function(){s(!0),j&&(x.pathname.includes("/fitapp")?v.collection("groups").add({name:j,createAt:O.a.firestore.FieldValue.serverTimestamp()}):x.pathname.includes("/group/")&&v.collection("groups").doc(null===N||void 0===N?void 0:N.id).collection("exercise").add({name:j,createAt:O.a.firestore.FieldValue.serverTimestamp()}))},children:Object(r.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})})]})]})}Object(S.registerLocale)("ru",y.a);var E=function(){console.log("production");var e=Object(n.useContext)(u),t=e.size,c=e.showAdd,i=["app"];return c&&i.push("app-show-modal"),Object(r.jsx)(a.a,{basename:"/fitapp",children:Object(r.jsxs)("div",{className:i.join(" "),style:{fontSize:t},children:[Object(r.jsx)(N,{}),Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",component:g}),Object(r.jsx)(d.a,{path:"/group/:id",component:w}),Object(r.jsx)(d.a,{path:"*",component:g})]}),c&&Object(r.jsx)(z,{})]})})};o.a.render(Object(r.jsx)(j,{children:Object(r.jsx)(E,{})}),document.getElementById("root"))},73:function(e,t,c){},94:function(e,t,c){},95:function(e,t,c){}},[[167,1,2]]]);
//# sourceMappingURL=main.c700a69f.chunk.js.map